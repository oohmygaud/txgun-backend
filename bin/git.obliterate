#!/usr/bin/env bash
set -e

for FN in $* ; do
  echo "About to obliterate from history: $FN"

  test -z "$FN" && continue

  read -r -p "Are You Sure? [Y/n] " input

  case $input in
      [yY][eE][sS]|[yY])
        git filter-branch --index-filter "git rm -rf --cached --ignore-unmatch $FN" HEAD
      ;;
      [nN][oO]|[nN])
      echo "Skipping $FN"
            ;;
      *)
    echo "Invalid input..."
    exit 1
    ;;
  esac

done
